(this["webpackJsonpmyle-concierge"]=this["webpackJsonpmyle-concierge"]||[]).push([[5],{1131:function(e,t,a){},1229:function(e,t,a){},1233:function(e,t,a){},1234:function(e,t,a){},1237:function(e,t,a){},1257:function(e,t,a){"use strict";a.r(t);var r=a(6),i=a(333),s=a(0),n=a.n(s),o=a(25),l=a(19),c=a(487),d=a(1001),p=a(7);n.a.memo(Object(p.a)({formControl:{height:"35px",minWidth:"130px",marginRight:"16px","& :hover:not(.Mui-disabled):before":{borderBottom:"none"},"& :before":{borderBottom:"none"},"& :after":{borderBottom:"none"}}})(e=>{const t=e.classes;return n.a.createElement(c.a,{className:t.formControl},n.a.createElement(d.a,{multiple:e.multiple,value:e.value,renderValue:e.renderValue,inputProps:e.inputProps,onChange:e.changed},e.children))}));var h=a(1063),m=a(1054),u=a(1075),g=a(1259);var f=e=>n.a.createElement("div",{style:{width:"2px",height:"100%",opacity:"0.08",background:"#212121",marginRight:"16px"}}),_=a(1043),b=a(995),v=a(1002);const x=[{key:"id:",value:"ID of ride"},{key:"pu:",value:"Start Address"},{key:"do:",value:"Destination Address"},{key:"ref:",value:"Reference ID"},{key:"dname:",value:"Driver`s Name"},{key:"dphone:",value:"Driver`s Phone Number"},{key:"uname:",value:"Rider`s first name"},{key:"uphone:",value:"Rider`s phone number"},{key:"uref:",value:"Rider`s reference id"},{key:"carref:",value:"Car Number"}];class y extends s.Component{constructor(e){super(e),this.showSearch=()=>{this.setState({focused:!0,enter:!0}),document.addEventListener("keydown",this.enterFunction,!1)},this.enterFunction=e=>{if(13===e.keyCode&&this.state.enter){let e=this.props.page,t=this.getSearchText();this.props.search_value!==t&&(e=1),this.setState({focused:!1}),this.props.updateFilters({search:t,page:e})}},this.handleInputChange=(e,t,a)=>{""===this.state.search_value&&"reset"===a&&this.setState({search_value:t,focused:!0}),"reset"!==a&&this.setState({search_value:t,focused:!0})},this.state={search_value:"",focused:!1,enter:!1},this.handleChange=this._handleChange.bind(this),this.handleBlur=this._handleBlur.bind(this)}componentWillReceiveProps(e){e.search_value&&e.search_value!==this.state.search_value&&this.setState({search_value:e.search_value})}_handleChange(e){this.setState({search_value:e.target.value})}getSearchText(){let e=this.state.search_value;return x.map(t=>(0===e.search(t.key)&&(e=t.key+e.slice(t.key.length)),null)),e}_handleBlur(){let e=this.getSearchText();this.state.focused&&(this.setState({focused:!1,enter:!1}),this.props.updateFilters({search:e,page:1}))}render(){const e=this.props.classes;return n.a.createElement("div",{className:e.root},n.a.createElement(_.a,{className:e.icon,color:"action"},"search"),n.a.createElement(v.a,{id:"autocomplete-select",style:{width:"100%"},options:x,inputValue:this.state.search_value,open:this.state.focused,classes:{option:e.option},clearOnEscape:!0,disableCloseOnSelect:!0,getOptionDisabled:e=>null===e.key,getOptionLabel:e=>"string"===typeof e?e:e.key,noOptionsText:n.a.createElement("div",{className:e.noOptions},"Show all results for ",this.state.search_value),onInputChange:this.handleInputChange,renderOption:t=>null===t.key?"Suggested Filters":n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:e.key},t.key),t.value),renderInput:e=>n.a.createElement(b.a,Object.assign({},e,{placeholder:"Search by date, name, amount, car, type\u2026",fullWidth:!0,inputProps:Object(r.a)(Object(r.a)({},e.inputProps),{},{onFocus:this.showSearch,autoComplete:"off"}),onBlur:this.handleBlur}))}))}}var E=Object(p.a)({root:{display:"flex",flex:1,alignItems:"center",height:"100%",paddingRight:"30px","& .MuiAutocomplete-popupIndicator":{display:"none"},"& .MuiInput-underline.Mui-disabled:before":{borderBottom:"none"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"none"},"& .MuiInput-underline:before":{borderBottom:"none"},"& .MuiInput-underline.Mui-focused:after":{borderBottom:"none"},"& .MuiInput-underline:after":{borderBottom:"none"}},icon:{margin:"10px",padding:0,fontSize:"24px",color:"#000000",opacity:.3},input:{fontSize:"20px",letterSpacing:"0.44px",lineHeight:"16px",fontStyle:"italic"},"& input:placeholder":{opacity:.38,fontSize:"20px",color:"#000000",letterSpacing:"0.44px",textAlign:"left"},option:{fontSize:"14px",color:"rgba(0,0,0,0.60)",letterSpacing:"0.25px",lineHeight:"20px"},key:{background:"#F5F6FB",borderRadius:"4px",padding:"1px 4px",marginRight:"10px"},noOptions:{backgroundColor:"rgba(0, 0, 0, 0.04)",padding:"9px 16px",margin:"-9px -16px",fontSize:"14px",color:"rgba(0,0,0,0.60)",letterSpacing:"0.25px",lineHeight:"20px"}})(y),C=a(999);class k extends s.Component{constructor(...e){super(...e),this.update=e=>{this.props.updateRidesFilters({[e.target.name]:e.target.value})},this.updateFilter=e=>{this.props.updateRidesFilters(e)}}render(){const e=this.props;return n.a.createElement("div",null,e.processing&&n.a.createElement(h.a,{className:"linear-progress"}),n.a.createElement("div",{className:"panel"},n.a.createElement(E,{updateFilters:this.updateFilter,search_value:e.search_options.search,page:e.search_options.page}),n.a.createElement(f,null),n.a.createElement(C.a,{variant:"contained",color:"primary",style:{marginRight:15,marginLeft:5},onClick:e=>this.updateFilter({statuses:"draft,pending,assigned,accepted,arriving,in_progress"})},"Active rides"),n.a.createElement(f,null),n.a.createElement(m.a,{control:n.a.createElement(u.a,{onChange:t=>this.updateFilter({all_rides:!e.search_options.all_rides}),checked:e.search_options.all_rides,color:"primary"}),label:"All Rides"})))}}var N=Object(g.a)()(Object(l.a)((function(e){return{search_options:e.rides.search_options,processing:e.rides.processing}}),(function(e){return{dispatch:e,updateRidesFilters:t=>e(o.a.RidesActions.updateFilters(t)),updateRideFilters:t=>e(o.a.RidesActions.updateRideFilters(t))}}))(k)),w=a(1160),R=a(198);const S={map:{flex:1,height:"100%"}};class F extends s.Component{constructor(...e){super(...e),this.markers=[],this.driver_markers=[],this.renderCarMarker=()=>{let e=this.props.driver_location,t={type:"Feature",geometry:{type:"Point",coordinates:[e.lon,e.lat]},properties:{heading:e.heading}};void 0===this.map.getSource("current-location")?this.map.addSource("current-location",{type:"geojson",data:t}):this.map.getSource("current-location").setData(t),void 0===this.map.getLayer("current-location-marker")&&this.map.addLayer({id:"current-location-marker",source:"current-location",type:"symbol",layout:{"icon-image":"car-marker","icon-size":.4,"icon-padding":1,"icon-allow-overlap":!0,"icon-rotate":{type:"identity",property:"heading"}}})},this.renderPickupMarker=()=>{const e=this.props.ride,t=e.start_lon,a=e.start_lat;let r=this.map.getSource("pickup-marker");void 0!==r&&r.setData({type:"Feature",geometry:{type:"Point",coordinates:[t,a]}})},this.renderDropoffMarker=()=>{const e=this.props.ride,t=e.destination_lon,a=e.destination_lat;let r=this.map.getSource("dropoff-marker");void 0!==r&&r.setData({type:"Feature",geometry:{type:"Point",coordinates:[t,a]}})},this.addRoute=e=>{if(!e)return;let t=[];for(let a=0;a<e.length;a++)t.push([e[a].longitude,e[a].latitude]);this.map.getSource("ride-route-source").setData({type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}})},this.center=()=>{let e=[[this.props.ride.start_lon,this.props.ride.start_lat],[this.props.ride.destination_lon,this.props.ride.destination_lat]];this.props.ride.driver&&e.push([this.props.ride.driver.lon,this.props.ride.driver.lat]),this.map.fitBounds(e,{padding:{top:100,left:100,right:100,bottom:100},maxZoom:12})},this.eta=()=>{this.props.eta(this.props.ride.ride_type.id,this.props.ride.start_lat,this.props.ride.start_lon)}}componentDidMount(){w.accessToken=R.a,this.map=new w.Map({container:document.getElementById("rides-map"),style:"mapbox://styles/lacustech/cj8ej2qjha5942qpbaojqr6q1?optimize=true",center:[-73.935242,40.73061],zoom:10,pitch:0,bearing:0}),this.map.on("load",()=>{this.map.addControl(new w.NavigationControl),this.map.addSource("ride-route-source",{type:"geojson",lineMetrics:!0,data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}}}),this.map.addLayer({id:"ride-route",type:"line",source:"ride-route-source",layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":3,"line-color":"#3c7eff","line-gradient":["interpolate",["linear"],["line-progress"],0,"rgba(60, 126, 255, 1)",.5,"rgba(60, 126, 255, 0.5)",1,"rgba(60, 126, 255, 0.1)"]}}),this.map.loadImage("assets/map/pin/pickup.png",(e,t)=>{this.map.addImage("pickup-marker",t)}),this.map.loadImage("assets/map/pin/dropoff.png",(e,t)=>{this.map.addImage("dropoff-marker",t)}),this.map.loadImage("assets/map/cars/suv.png",(e,t)=>{this.map.addImage("car-regular",t)}),this.map.loadImage("assets/map/cars/wav.png",(e,t)=>{this.map.addImage("car-wav",t)}),this.map.loadImage("assets/map/cars/standard.png",(e,t)=>{this.map.addImage("car-marker",t)}),this.map.addSource("available_drivers",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addLayer({id:"available_drivers",source:"available_drivers",type:"symbol",layout:{"icon-image":{type:"identity",property:"image"},"icon-size":.4,"icon-padding":1,"icon-allow-overlap":!0,"icon-rotate":{type:"identity",property:"heading"},"text-font":["Lato Black"],"text-padding":20,"text-anchor":"top","text-offset":[0,-2],"text-size":17,"text-allow-overlap":!0,"text-field":{type:"identity",property:"title"},"text-justify":"center","icon-offset":[0,-22],"text-letter-spacing":.15},paint:{"text-color":"#000000","text-halo-color":"#fff","text-halo-width":2}}),this.map.addSource("pickup-marker",{type:"geojson",data:{type:"Feature",geometry:{type:"Point",coordinates:[]}}}),this.map.addLayer({id:"pickup-marker",type:"symbol",source:"pickup-marker",layout:{"icon-image":"pickup-marker","icon-size":.4,"icon-padding":1,"icon-allow-overlap":!0}}),this.map.addSource("dropoff-marker",{type:"geojson",data:{type:"Feature",geometry:{type:"Point",coordinates:[]}}}),this.map.addLayer({id:"dropoff-marker",type:"symbol",source:"dropoff-marker",layout:{"icon-image":"dropoff-marker","icon-size":.4,"icon-padding":1,"icon-allow-overlap":!0}})})}componentDidUpdate(e){(this.props.ride&&null===e.ride||this.props.ride&&this.props.ride.id!==e.ride.id)&&(this.center(),this.renderPickupMarker(),this.renderDropoffMarker(),this.addRoute(this.props.location_states),this.eta()),this.props.drivers&&e.drivers!==this.props.drivers&&this.initCars(),this.map.getLayer("current-location-marker")&&this.map.removeLayer("current-location-marker"),this.props.driver_location!==e.driver_location&&null!==this.props.ride.driver&&this.renderCarMarker()}shouldComponentUpdate(e,t,a){return e.ride!==this.props.ride||e.drivers!==this.props.drivers||e.driver_location!==this.props.driver_location||e.location_states!==this.props.location_states}initCars(){let e=this.props.drivers,t=this.props.ride;for(let i=0;i<this.driver_markers.length;i++)this.driver_markers[i].remove();let a=[];null!==t&&-1!==["pending","assigned","accepted"].indexOf(t.status)&&e.map(e=>{a.push({type:"Feature",geometry:{type:"Point",coordinates:[e.lon,e.lat]},properties:{heading:e.heading,image:e.wav?"car-wav":"car-regular"}})});let r=this.map.getSource("available_drivers");r&&r.setData({type:"FeatureCollection",features:a})}render(){return n.a.createElement("div",{id:"rides-map",style:S.map})}}var O=Object(l.a)((function(e){return{company:e.app.company,ride:e.rides.ride,drivers:e.rides.eta.drivers,location_states:e.rides.location_states,driver_location:e.rides.driver_location}}),(function(e){return{dispatch:e,eta:(t,a,r)=>e(o.a.RidesActions.eta(t,a,r))}}))(F),D=a(1164),j=a(1165),M=a(1260);const I=(e,t,a)=>t[a]<e[a]?-1:t[a]>e[a]?1:0,P=(e,t)=>{const a=e.map((e,t)=>[e,t]);return a.sort((e,a)=>{const r=t(e[0],a[0]);return 0!==r?r:e[1]-a[1]}),a.map(e=>e[0])},z=(e,t)=>"desc"===e?(e,a)=>I(e,a,t):(e,a)=>-I(e,a,t);var A=a(1162),B=a(1163),T=a(1161),L=a.n(T),H=a(56),W=a.n(H),Y=a(1071);const K={content:"close-quote",position:"absolute",width:"20px",height:"20px",top:"1px",left:"1px",borderRadius:"50%",zIndex:-1},U=Object(Y.a)(e=>({pending:{backgroundColor:e.palette.status.pending,"&.Mui-selected":{backgroundColor:e.palette.status.pending},"&:hover":{backgroundColor:e.palette.status.pending+" !important"}},assigned:{backgroundColor:e.palette.status.assigned,"&.Mui-selected":{backgroundColor:e.palette.status.assigned},"&:hover":{backgroundColor:e.palette.status.assigned+" !important"}},in_progress:{backgroundColor:e.palette.status.in_progress,"&.Mui-selected":{backgroundColor:e.palette.status.in_progress},"&:hover":{backgroundColor:e.palette.status.in_progress+" !important"}},finished:{backgroundColor:e.palette.status.finished,"&.Mui-selected":{backgroundColor:e.palette.status.finished},"&:hover":{backgroundColor:e.palette.status.finished+" !important"}},accepted:{backgroundColor:e.palette.status.accepted,"&.Mui-selected":{backgroundColor:e.palette.status.accepted},"&:hover":{backgroundColor:e.palette.status.accepted+" !important"}},arriving:{backgroundColor:e.palette.status.arriving,"&.Mui-selected":{backgroundColor:e.palette.status.arriving},":hover":{backgroundColor:e.palette.status.arriving}},driver_canceled:{backgroundColor:e.palette.status.driver_canceled,"&.Mui-selected":{backgroundColor:e.palette.status.driver_canceled},"&:hover":{backgroundColor:e.palette.status.driver_canceled+" !important"}},user_canceled:{backgroundColor:e.palette.status.user_canceled,"&.Mui-selected":{backgroundColor:e.palette.status.user_canceled},"&:hover":{backgroundColor:e.palette.status.user_canceled+" !important"}},company_canceled:{backgroundColor:e.palette.status.company_canceled,"&.Mui-selected":{backgroundColor:e.palette.status.company_canceled},"&:hover":{backgroundColor:e.palette.status.company_canceled+" !important"}},status_icon:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"10px","& .wav":{color:e.palette.icon_color.wav},"& .pending":{color:e.palette.icon_color.pending},"& .assigned":{color:e.palette.icon_color.assigned},"& .driver-canceled":{transform:"rotate(90deg)",color:e.palette.icon_color.driver_canceled},"& .user-canceled":{transform:"rotate(90deg)",color:e.palette.icon_color.user_canceled},"& .company-canceled":{transform:"rotate(90deg)",color:e.palette.icon_color.company_canceled},"& .finished":{color:e.palette.icon_color.finished},"& .dropoff":{color:"#fff",position:"relative",fontSize:"22px",zIndex:1},"& .dropoff:before":Object(r.a)(Object(r.a)({},K),{},{background:e.palette.icon_color.dropoff}),"& .pickup":{color:"#fff",position:"relative",fontSize:"22px",zIndex:1},"& .pickup:before":Object(r.a)(Object(r.a)({},K),{},{background:e.palette.icon_color.pickup}),"& .arriving":{color:"#fff",position:"relative",fontSize:"22px",zIndex:1},"& .arriving:before":Object(r.a)(Object(r.a)({},K),{},{background:e.palette.icon_color.arriving}),"& .accepted":{color:"#FFFFFF",position:"relative",fontSize:"22px",zIndex:1},"& .accepted:before":Object(r.a)(Object(r.a)({},K),{},{background:e.palette.icon_color.accepted}),"& .alert":{color:"red",position:"relative",fontSize:"22px",zIndex:1},"& .alert:before":Object(r.a)(Object(r.a)({},K),{},{background:"#FFFFFF"})}}));var V=Object(g.a)()(n.a.memo(e=>{const t=U(e);let a=null;"assigned"!==e.ride.status&&"accepted"!==e.ride.status&&"arriving"!==e.ride.status&&"in_progress"!==e.ride.status||e.ride.eta&&(a=n.a.createElement("p",null,e.ride.eta.toFixed(0)," min"));return n.a.createElement(A.a,{hover:!0,selected:e.isSelected,onClick:()=>e.handleClickRide(e.ride),tabIndex:-1,className:t[e.ride.status]},n.a.createElement(B.a,{align:"left",className:"name"},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.a.createElement("p",{className:"name"},e.ride.first_name," ",e.ride.last_name),1===e.ride.confirmed?n.a.createElement(_.a,{style:{fontSize:20}},"done"):null)),n.a.createElement(B.a,{align:"left",className:"address"},n.a.createElement("p",null,e.ride.start_address.substr(0,20)),n.a.createElement("p",null,n.a.createElement(L.a,{format:"M/D h:mm A"},e.ride.pickup_at))),n.a.createElement(B.a,{align:"left",className:"address"},n.a.createElement("p",null,e.ride.destination_address.substr(0,20)),n.a.createElement("p",null,n.a.createElement(L.a,{format:"M/D h:mm A"},e.ride.dropoff_at))),n.a.createElement(B.a,{align:"right",className:"action"},a),n.a.createElement(B.a,{align:"right",className:"status"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"time"},n.a.createElement("p",{className:"subtitle"},"driver_canceled"===e.ride.status&&n.a.createElement("span",null,e.ride.driver_first_name," ",e.ride.driver_last_name),"driver_canceled"!==e.ride.status&&n.a.createElement("span",null,e.t("rides.statuses."+e.ride.status)),"accepted"===e.ride.status&&n.a.createElement("span",{className:"accepted"},n.a.createElement(L.a,{format:"h:mm a"},e.ride.pickup_at)))),n.a.createElement("div",{className:t.status_icon},(()=>{if("accepted"!==e.ride.status)return;if(e.ride.eta<=5)return;let t=W()(e.ride.pickup_at),a=W()().add(e.ride.eta,"seconds");return a<t||a.diff(t,"seconds")<10?void 0:n.a.createElement(_.a,{className:"alert"},"watch_later")})(),-1!==e.ride.ride_type.indexOf("wav")&&n.a.createElement(_.a,{className:"wav"},"accessible"),"pending"===e.ride.status&&n.a.createElement(_.a,{className:"pending"},"watch_later"),"assigned"===e.ride.status&&n.a.createElement(_.a,{className:"assigned"},"watch_later"),"accepted"===e.ride.status&&n.a.createElement(_.a,{className:"accepted"},"keyboard_arrow_up"),"pickup"===e.ride.status&&n.a.createElement(_.a,{className:"pickup"},"keyboard_arrow_up"),"arriving"===e.ride.status&&n.a.createElement(_.a,{className:"arriving"},"keyboard_arrow_up"),"in_progress"===e.ride.status&&n.a.createElement(_.a,{className:"dropoff"},"keyboard_arrow_down"),"driver_canceled"===e.ride.status&&n.a.createElement(_.a,{className:"driver-canceled"},"not_interested"),"finished"===e.ride.status&&n.a.createElement(_.a,{className:"finished"},"check_circle"),"user_canceled"===e.ride.status&&n.a.createElement(_.a,{className:"user-canceled"},"not_interested"),"company_canceled"===e.ride.status&&n.a.createElement(_.a,{className:"company-canceled"},"not_interested")))))}));class q extends s.Component{constructor(e){super(e),this.state={page:0,order:"asc",order_by:"calories"},this.handleClickRide=this._handleClickRide.bind(this),this.handleChangePage=this._handleChangePage.bind(this),this.handleChangeRowsPerPage=this._handleChangeRowsPerPage.bind(this),this.updateRide=this._updateRide.bind(this)}componentWillReceiveProps(e,t){e.search_options.page-1!==this.state.page&&this.setState({page:e.search_options.page-1})}_handleClickRide(e){this.props.onRideView(e)}_handleChangePage(e,t){this.setState(Object(r.a)(Object(r.a)({},this.state),{},{page:t})),this.props.updateFilters({page:t+1})}_handleChangeRowsPerPage(e){this.props.updateFilters({per_page:e.target.value})}_updateRide(e,t){this.props.updateRide(e,t)}render(){let e=!1;return n.a.createElement("div",{className:"wrapper-table-rides"},n.a.createElement("div",{className:"table-ride"},n.a.createElement(D.a,{"aria-labelledby":"tableTitle",size:"medium",className:"table"},n.a.createElement(j.a,null,P([...this.props.rides],z(this.state.order,this.state.order_by)).map(t=>"all"===this.props.search_options.brokered||t.brokered===this.props.search_options.brokered?(e=null!==this.props.ride&&this.props.ride.id===t.id,n.a.createElement(V,{key:t.id,ride:t,isSelected:e,company:this.props.company,handleClickRide:this.handleClickRide,updateRide:this.updateRide})):null))),n.a.createElement(M.a,{rowsPerPageOptions:[5,10,25,50,75,100],component:"div",className:"pagination",count:1e4,rowsPerPage:this.props.search_options.per_page,page:this.state.page,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))}}var J=Object(l.a)((function(e){return{ride:e.rides.ride,rides:e.rides.rides,total:e.rides.total,search_options:e.rides.search_options,company:e.app.company}}),(function(e){return{dispatch:e,updateFilters:t=>e(o.a.RidesActions.updateFilters(t)),updateRide:(t,a)=>e(o.a.RidesActions.updateRide(t,a))}}))(q),G=a(986),Z=a(1042),$=a(1060),Q=a(1240),X=a.n(Q),ee=(a(1131),a(1230)),te=a(1231),ae=a(1255),re=a(1232),ie=a(201),se=a(51),ne=a(3),oe=a(1243);class le extends s.PureComponent{constructor(e){super(e),this.getRowClassName=({index:e})=>{const t=this.props.classes;return Object(ne.a)(t.tableRow,"getRowClassName",t.flexContainer,{[t.tableRowHover]:-1!==e})},this.cellRenderer=({cellData:e,columnIndex:t})=>{const a=this.props,r=a.classes,i=a.rowHeight,s=a.onRowClick;let o=e;return 4===t&&(o=e===this.state.select?n.a.createElement(_.a,{style:{color:"#2b5cbc",marginLeft:"-20px"}},"done"):""),n.a.createElement(B.a,{component:"div",className:Object(ne.a)(r.tableCell,r.flexContainer,{[r.noClick]:null==s}),variant:"body",style:{height:i},align:"left"},o)},this.headerRenderer=({label:e})=>{const t=this.props,a=t.headerHeight,r=t.classes;return n.a.createElement(B.a,{component:"div",className:Object(ne.a)(r.tableCell,r.flexContainer),variant:"head",style:{height:a},align:"left"},n.a.createElement("span",null,e))},this.state={select:""},this.selected=this._selected.bind(this)}_selected(e){this.setState({select:e}),this.props.onSelected(e)}render(){const e=this.props,t=e.classes,a=e.columns,i=Object(se.a)(e,["classes","columns"]);return n.a.createElement(oe.a,null,({height:e,width:s})=>n.a.createElement(oe.c,Object.assign({height:e,width:s},i,{rowClassName:this.getRowClassName,onRowClick:({index:e})=>this.selected(e)}),a.map((e,a)=>{let i=e.dataKey,s=Object(se.a)(e,["dataKey"]);return n.a.createElement(oe.b,Object.assign({key:i,headerRenderer:e=>this.headerRenderer(Object(r.a)(Object(r.a)({},e),{},{columnIndex:a})),className:t.flexContainer,cellRenderer:this.cellRenderer,dataKey:i},s))})))}}le.defaultProps={headerHeight:48,rowHeight:48};var ce=Object(p.a)({flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableSelectedRow:{background:"red"},tableRowHover:{"&:hover":{backgroundColor:"#F5F5FB"}},tableCell:{flex:1},noClick:{cursor:"initial"}})(le),de=a(267),pe=a.n(de);a(1229);class he extends s.Component{constructor(e){super(e),this.state={order:"asc",order_by:"calories",drivers:e.drivers||[],drivers_filtered:[],selected:"",search_text:""},this.handleClickDriver=this._handleClickDriver.bind(this),this.updateDriversTable=this._updateDriversTable.bind(this),this.onCreateNote=this._onCreateNote.bind(this)}_handleClickDriver(e){this.setState({selected:e}),this.props.onSelected(this.state.drivers_filtered[e])}_onCreateNote(e){const t={entity_id:e.id,entity_type:"driver",notes:e.notes?e.notes:[]};this.props.handleCreateNote(t)}_updateDriversTable(){const e=this.state.search_text;let t=this.state.drivers;e&&e.length>1&&(t=t.filter(t=>t.id&&("#"+t.id).indexOf(e)>=0||t.car_reference_id&&("#"+t.car_reference_id).indexOf(e)>=0||t.number_display&&-1!==t.number_display.toLowerCase().indexOf(e)||t.plate_number&&-1!==t.plate_number.toLowerCase().indexOf(e)||t.first_name&&-1!==t.first_name.toLowerCase().indexOf(e)||t.last_name&&-1!==t.last_name.toLowerCase().indexOf(e)||t.title&&-1!==t.title.toLowerCase().indexOf(e)||t.fhv_license&&-1!==t.fhv_license.toLowerCase().indexOf(e)||t.phone_number&&-1!==t.phone_number.toString().toLowerCase().indexOf(e)));const a=P(t.asMutable(),z(this.state.order,this.state.order_by));this.setState({drivers_filtered:a})}componentDidMount(){this.updateDriversTable()}componentWillReceiveProps(e){e.search_text!==this.props.search_text&&this.setState({search_text:e.search_text},()=>this.updateDriversTable()),e.drivers&&e.drivers!==this.props.drivers&&this.setState({drivers:e.drivers},()=>this.updateDriversTable())}render(){const e=this.state,t=e.drivers_filtered,a=e.selected,r=(e,t)=>{let r="";if(null!==e.image){let t=e.image.split("_");r=t[t.length-1]}let i=e.notes&&e.notes.length?"".concat(e.notes[0].body.substr(0,30)," - ").concat(pe()(e.notes[0].created_at).format("MM/DD/YY")):"Create note";return{image:n.a.createElement("div",{style:{display:"flex",paddingLeft:7}},n.a.createElement("img",{src:"../assets/img/cars/car_placeholder_"+r+".png",alt:"",style:{height:"25px",minWidth:"49px",marginLeft:"-15px"}}),n.a.createElement("img",{src:e.selfie_thumbnail_url,alt:"",style:{height:"28px",minWidth:"28px",borderRadius:"50%",marginLeft:"-25px"}})),name:e.first_name+" "+e.last_name,plate_number:e.plate_number,title:e.title,id:"#"+e.id,notes:n.a.createElement("div",{className:"assign-note",onClick:t=>{t.preventDefault(),t.stopPropagation(),this.onCreateNote(e)}},i),select:t===a?n.a.createElement(_.a,{color:"primary"},"done"):" "}},i=[];for(let s=0;s<t.length;s+=1)i.push(r(t[s],s));return n.a.createElement(ie.a,{style:{height:380,width:"100%"}},n.a.createElement(ce,{rowCount:i.length,rowGetter:({index:e})=>i[e],onSelected:this.handleClickDriver,columns:[{width:100,label:"",dataKey:"image"},{width:200,label:"DRIVER",dataKey:"name"},{width:170,label:"PLATE",dataKey:"plate_number"},{width:120,label:"ID #",dataKey:"id"},{width:190,label:"CAR",dataKey:"title"},{width:40,dataKey:""},{width:270,label:"Notes",dataKey:"notes"},{width:60,label:"",dataKey:"select"}]}))}}var me=he,ue=a(62),ge=a(9),fe=a.n(ge);class _e extends s.Component{constructor(e){super(e),this.showSearch=()=>{this.setState({focused:!0}),document.addEventListener("keydown",this.enterFunction,!1)},this.enterFunction=e=>{if(13===e.keyCode&&this.state.focused){let e=this.props.page;this.props.search_value!==this.state.search_value&&(e=1),this.props.updateFilters({search:this.state.search_value,page:e})}},this.state={search_value:"",focused:!1,instant:!!e.instant&&e.instant},this.handleChange=this._handleChange.bind(this),this.handleBlur=this._handleBlur.bind(this)}componentWillReceiveProps(e){e.search_value&&e.search_value!==this.state.search_value&&this.setState({search_value:e.search_value})}_handleChange(e){this.setState({search_value:e.target.value},()=>{this.props.instant&&this.props.updateFilters({search:this.state.search_value,page:1})})}_handleBlur(){this.state.focused&&this.props.updateFilters({search:this.state.search_value,page:1}),this.setState({focused:!1})}render(){const e=this.props,t=e.classes,a=e.placeholder,r=void 0===a?"Search":a,i=e.dialog,s=e.className;return i?n.a.createElement("div",{className:fe()("flex items-center w-full",s)},n.a.createElement("div",{className:"w-full relative"},n.a.createElement(b.a,{fullWidth:!0,InputProps:{placeholder:r,value:this.state.search_value,onChange:this.handleChange,onFocus:this.showSearch,autoFocus:!1,classes:{input:fe()(t.dialog.input,"py-0 px-14 h-40 pr-40"),notchedOutline:"rounded-8"}},variant:"outlined",onBlur:this.handleBlur}))):n.a.createElement("div",{className:t.root},n.a.createElement(_.a,{className:t.icon,color:"action"},"search"),n.a.createElement(b.a,{fullWidth:!0,InputProps:{placeholder:r,value:this.state.search_value,onChange:this.handleChange,onFocus:this.showSearch,autoFocus:!1,classes:{borderBottom:null,input:fe()(t.input,"py-0 px-14 h-40 pr-40")}},onBlur:this.handleBlur}))}}var be=Object(p.a)({root:{display:"flex",flex:1,alignItems:"center",height:"100%",paddingRight:"10px","& .MuiInput-underline.Mui-disabled:before":{borderBottom:"none"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"none"},"& .MuiInput-underline:before":{borderBottom:"none"},"& .MuiInput-underline.Mui-focused:after":{borderBottom:"none"},"& .MuiInput-underline:after":{borderBottom:"none"}},icon:{margin:"10px",padding:0,fontSize:"24px",color:"#000000",opacity:.3},input:{fontSize:"20px",letterSpacing:"0.44px",lineHeight:"16px",fontStyle:"italic"},"& input:placeholder":{opacity:.38,fontSize:"14px",color:"#000000",letterSpacing:"0.44px",textAlign:"left",lineHeight:"28px",fontFamily:"Roboto-Italic"},dialog:{input:{borderRadius:"5px"}}})(_e),ve=a(48),xe=a(1062),ye=a(996),Ee=a(1045);const Ce={formControl:{minWidth:420,fullWidth:!0,display:"flex"}};class ke extends n.a.Component{constructor(e){super(e),this.handleChange=e=>t=>{this.setState({[e]:t.target.value})},this.handleSave=()=>{const e={entity_type:this.props.data.entity_type,entity_id:this.props.data.entity_id,category:this.state.category,body:this.state.body};this.props.dispatch(o.a.NotesActions.createNote(e)),this.props.dispatch(ve.closeDialog())},this.handleClose=()=>{this.props.dispatch(ve.closeDialog())},this.handleCategoryChange=e=>{this.setState({[e.target.name]:e.target.value})},this.state={body:"",category:"default"}}render(){const e=this.props.data,t=this.state,a=e.notes.map((e,t)=>n.a.createElement("div",{className:"note",key:t},n.a.createElement("div",{className:"column-layout"},n.a.createElement("p",{className:"body"},e.body),n.a.createElement("p",{className:"date"},W()(e.created_at).format("MMM Do YY h:mm a"),e.added_by&&n.a.createElement("span",{className:"person"}," by ".concat(e.added_by))))));return n.a.createElement(xe.a,{open:!0,onClose:this.handleClose,maxWidth:"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(ee.a,{id:"form-dialog-title",style:{width:410}},"Note"),n.a.createElement(te.a,null,n.a.createElement("div",{className:"notes"},a),n.a.createElement(b.a,{autoFocus:!0,margin:"dense",id:"body",label:"Description",fullWidth:!0,onChange:this.handleChange("body")}),n.a.createElement(c.a,{style:Ce.formControl},n.a.createElement(ye.a,{shrink:!0,htmlFor:"category-select"},"Category"),n.a.createElement(d.a,{value:t.category,onChange:this.handleCategoryChange,fullWidth:!0,inputProps:{name:"category",id:"category-select"}},n.a.createElement(Ee.a,{value:"default",key:"default"},"Default"),n.a.createElement(Ee.a,{value:"repairs",key:"repairs"},"Repairs")))),n.a.createElement(re.a,null,n.a.createElement(C.a,{onClick:this.handleClose,color:"primary"},"Close"),n.a.createElement(C.a,{onClick:this.handleSave,color:"primary"},"Save")))}}var Ne=ke;class we extends s.Component{constructor(e){super(e),this.handleCancel=()=>{this.props.dispatch(ve.closeRidesDialog())},this.state={driver_id:"",search:""},this.onSelected=this._onSelected.bind(this),this.handleCreateNote=this._handleCreateNote.bind(this),this.handleAssign=this._handleAssign.bind(this),this.onSearchUpdate=this._onSearchUpdate.bind(this)}_onSelected(e){this.setState({driver_id:e.id})}_handleCreateNote(e){const t=this.props.dispatch;t(ve.openDialog({children:n.a.createElement(Ne,{data:e,dispatch:t})}))}_onSearchUpdate(e){let t=e.search.trim();t=t.toLowerCase(),this.setState({search:t})}_handleAssign(){""!==this.state.driver_id&&(this.props.updateRide(this.props.ride_id,{driver_id:this.state.driver_id,status:"confirm"}),this.props.dispatch(ve.closeRidesDialog()))}render(){const e=this.props.drivers;return 0===e.length?null:n.a.createElement(s.Fragment,null,n.a.createElement(ee.a,{className:"assign-dialog-title"},"Assign driver"),n.a.createElement(te.a,{className:"assign-dialog-content"},n.a.createElement(be,{dialog:!0,updateFilters:this.onSearchUpdate,placeholder:"Search by date, name , amount, car, type",instant:!0}),n.a.createElement(ae.a,{className:"assign-content-text"},"Toyota camry; :Nick"),n.a.createElement(me,{drivers:e,onSelected:this.onSelected,handleCreateNote:this.handleCreateNote,search_text:this.state.search})),n.a.createElement(re.a,{className:"assign-container-btn"},n.a.createElement(ue.a,{color:"gray",width:"158px",textTransform:!0,clicked:this.handleCancel},"CANCEL"),n.a.createElement(ue.a,{color:"blue",width:"158px",textTransform:!0,clicked:this.handleAssign,processing:this.props.processing,disabled:!this.state.driver_id},"Assign")))}}var Re=Object(g.a)()(Object(l.a)((function(e){return{drivers:e.drivers.drivers,total:e.drivers.total,processing:e.rides.update_ride_processing}}),(function(e){return{dispatch:e,updateRide:(t,a)=>e(o.a.RidesActions.updateRide(t,a))}}))(we)),Se=a(1053),Fe=a(1074);a(1233);class Oe extends s.PureComponent{constructor(e){super(e),this.change=e=>{this.setState({[e.target.name]:e.target.value})},this.state={note:"",status:""},this.confirm=this._confirm.bind(this),this.cancel=this._cancel.bind(this)}_confirm(){(this.state.note.length>5||this.state.status)&&(this.props.updateRide(this.props.ride_id,{status:this.state.status,reason:this.state.note}),this.props.dispatch(ve.closeRidesDialog()))}_cancel(){this.props.dispatch(ve.closeRidesDialog())}render(){return n.a.createElement(s.Fragment,null,n.a.createElement(ee.a,{className:"cancel-title"},"Cancel Ride"),n.a.createElement(te.a,null,n.a.createElement(ae.a,{className:"cancel-description"},"Specify the reason for the cancellation of the trip"),n.a.createElement(Se.a,{"aria-label":"status",name:"status",value:this.state.status,onChange:this.change,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},n.a.createElement(m.a,{value:"rider_cancel",control:n.a.createElement(Fe.a,{color:"primary"}),label:"Rider Canceled"}),n.a.createElement(m.a,{value:"driver_cancel",control:n.a.createElement(Fe.a,{color:"primary"}),label:"Driver NO SHOW"}),n.a.createElement(m.a,{value:"company_cancel",control:n.a.createElement(Fe.a,{color:"primary"}),label:"Company Cancel"})),n.a.createElement(b.a,{autoFocus:!0,multiline:!0,rows:"4",name:"note",className:"cancel-note",margin:"normal",variant:"outlined",id:"outlined-multiline-static",placeholder:"Passenger canceled because didnt want wait driver",onChange:this.change})),n.a.createElement(re.a,{className:"cancel-container-btn"},n.a.createElement(ue.a,{color:"gray",width:"158px",textTransform:!0,clicked:this.cancel},"CANCEL"),n.a.createElement(ue.a,{color:"blue",width:"158px",textTransform:!0,clicked:this.confirm,disabled:this.state.note.length<5||!this.state.status},"Confirm")))}}var De=Object(l.a)((function(e){return{}}),(function(e){return{dispatch:e,updateRide:(t,a)=>e(o.a.RidesActions.updateRide(t,a))}}))(Oe),je=a(26);var Me=Object(l.a)((function({FuseReducer:e}){return{state:e.dialog.stateRides,options:e.dialog.optionsRides}}),(function(e){return Object(je.b)({closeDialog:o.a.FuseActions.closeRidesDialog},e)}))(e=>n.a.createElement(xe.a,Object.assign({open:e.state,onClose:e.closeDialog,maxWidth:"xl",className:"assign-dialog","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},e.options))),Ie=a(1057),Pe=a(1065),ze=a(181),Ae=a(993),Be=a(1235),Te=(a(1234),a(335));const Le={textField:{width:"49%"},title:{flex:1,color:"#000000"}};class He extends s.Component{constructor(e){super(e),this.change=e=>{this.setState({[e.target.name]:e.target.value})},this.init=e=>{this.setState({id:e.id,ride_type:e.ride_type,first_name:e.user?e.user.first_name:"",last_name:e.user?e.user.last_name:"",phone_number:e.user?e.user.phone_number:"",type:"pool",cost:e.amount?e.amount:"",pickup_note:e.pickup_note,pickup_at:e.pickup_at?W.a.tz(e.pickup_at,e.ride_type.timezone).format("YYYY-MM-DDTHH:mm"):"",dropoff_at:e.dropoff_at?W.a.tz(e.dropoff_at,e.ride_type.timezone).format("YYYY-MM-DDTHH:mm"):"",start_lat:e.start_lat,start_lon:e.start_lon,start_address:e.start_address,end_lat:e.destination_lat,end_lon:e.destination_lon,end_address:e.destination_address,status:e.status,error:!1,focus_pick_up:!1,focus_drop_off:!1,rider_note:e.user.note})},this.createNote=()=>{this.props.updateRide(this.state.id,{status:"note",note:this.state.note}).then(()=>{this.setState({note:""})})},this.addressChanged=e=>{"start_address"===e.name?this.setState({start_address:e.address,start_lat:e.lat,start_lon:e.lon}):"end_address"===e.name&&this.setState({end_address:e.address,end_lat:e.lat,end_lon:e.lon})},this.state={id:0,ride_type:0,first_name:"",last_name:"",phone_number:"",type:"",cost:"",pickup_note:"",pickup_at:"",dropoff_at:"",start_lat:"",start_lon:"",start_address:"",end_lon:"",end_lat:"",end_address:"",error:!1,focus_pick_up:!1,focus_drop_off:!1,rider_note:"",note:"",status:""},this.confirm=this._confirm.bind(this),this.cancel=this._cancel.bind(this),this.cancelRide=this._cancelRide.bind(this)}componentWillReceiveProps(e){(!this.props.ride&&e.ride||e.ride.id!==this.props.ride.id)&&this.init(e.ride)}componentDidMount(){this.props.ride&&this.init(this.props.ride)}_cancel(){this.props.dispatch(ve.closeDialog())}_confirm(){this.props.updateRide(this.state.id,{ride_type_id:this.state.ride_type.id,pickup_note:this.state.pickup_note,pickup_at:W.a.tz(this.state.pickup_at,this.props.ride.ride_type.timezone).utc().format("YYYY-MM-DDTHH:mm"),dropoff_at:W.a.tz(this.state.dropoff_at,this.props.ride.ride_type.timezone).utc().format("YYYY-MM-DDTHH:mm"),start_lat:this.state.start_lat,start_lon:this.state.start_lon,start_address:this.state.start_address,destination_lat:this.state.end_lat,destination_lon:this.state.end_lon,destination_address:this.state.end_address,rider_note:this.state.rider_note,first_name:this.state.first_name,last_name:this.state.last_name,phone_number:this.state.phone_number})}_cancelRide(){(0,this.props.dispatch)(ve.openRidesDialog({children:n.a.createElement(De,{ride_id:this.props.ride.id})}))}render(){const e=this.props.ride;return e?n.a.createElement(s.Fragment,null,n.a.createElement(Ie.a,{style:{position:"relative",backgroundColor:"#FFFFFF"}},n.a.createElement(Pe.a,{className:"preview-dialog-toolbar"},n.a.createElement(ze.a,{variant:"h6",style:Le.title},"Preview Ride # ",e.id," / ",e.reference_id),n.a.createElement(ue.a,{color:"red",width:"158px",textTransform:!0,clicked:this.cancelRide},"CANCEL RIDE"),n.a.createElement(ue.a,{color:"gray",width:"158px",textTransform:!0,clicked:this.cancel},"Cancel"),n.a.createElement(ue.a,{color:"blue",width:"158px",textTransform:!0,clicked:this.confirm,processing:this.props.processing},"Update"))),n.a.createElement(te.a,{className:"preview-dialog-content"},n.a.createElement("div",{className:"information"},n.a.createElement("div",{className:"title"},"Passenger"),n.a.createElement(Ae.a,null,n.a.createElement(b.a,{label:"First Name",value:this.state.first_name,onChange:this.change,type:"text",name:"first_name",margin:"normal",variant:"outlined",style:Le.textField,InputLabelProps:{shrink:!0}}),n.a.createElement(b.a,{label:"Last Name",value:this.state.last_name,onChange:this.change,type:"text",name:"last_name",margin:"normal",variant:"outlined",style:Le.textField,InputLabelProps:{shrink:!0}}),n.a.createElement(b.a,{label:"Phone number",value:this.state.phone_number,onChange:this.change,type:"text",name:"phone_number",margin:"normal",variant:"outlined",style:Le.textField,InputLabelProps:{shrink:!0}}),n.a.createElement(b.a,{label:"Note",multiline:!0,rows:"5",value:this.state.rider_note,variant:"outlined",style:{marginTop:15,width:"49%"},onChange:this.change,name:"rider_note"})),n.a.createElement("div",{className:"title"},"Trip info"),n.a.createElement("br",null),n.a.createElement(Ae.a,null,n.a.createElement(b.a,{id:"datetime-local",label:"Pickup time",type:"datetime-local",value:this.state.pickup_at,name:"pickup_at",variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.change,style:Le.textField}),n.a.createElement(b.a,{id:"datetime-local",label:"Dropoff Time",type:"datetime-local",value:this.state.dropoff_at,name:"dropoff_at",variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.change,style:Le.textField})),n.a.createElement(Ae.a,null,n.a.createElement(Te.a,{style:{marginTop:15,width:"49%"},onChange:this.addressChanged,placeholder:"Pick Up",name:"start_address",value:this.props.ride.start_address,disabled:!1}),n.a.createElement(Te.a,{style:{marginTop:15,width:"49%"},onChange:this.addressChanged,placeholder:"Destination address",name:"end_address",value:this.props.ride.destination_address,disabled:!1}))),n.a.createElement("div",{className:"container-table-and-form"},n.a.createElement("div",{className:"notes"},n.a.createElement(b.a,{id:"outlined-multiline-static",label:"Pickup Note",multiline:!0,rows:"5",value:this.state.pickup_note,variant:"outlined",style:{width:"96%",marginTop:15,marginBottom:15,marginLeft:"2%",marginRight:"2%"},onChange:this.change,name:"pickup_note"}),n.a.createElement(D.a,{size:"small",stickyHeader:!0},n.a.createElement(Be.a,null,n.a.createElement(A.a,null,n.a.createElement(B.a,{className:"date",align:"left"},"Date"),n.a.createElement(B.a,{className:"body",align:"left"},"Event"),n.a.createElement(B.a,{className:"admin",align:"left"},"Admin"))),n.a.createElement(j.a,null,e.events.map(e=>n.a.createElement(A.a,{key:e.id},n.a.createElement(B.a,{className:"date",component:"th",scope:"row"},W()(e.created_at).format("MM/DD h:mm A")),n.a.createElement(B.a,{className:"body"},e.body),n.a.createElement(B.a,{className:"admin"},e.admin_first_name)))))),n.a.createElement(re.a,{className:"send-note-container"},n.a.createElement(b.a,{fullWidth:!0,label:"Type and Press enter",placeholder:"Type and Press enter",id:"note-field",margin:"normal",variant:"outlined",name:"note",className:"note-input",onChange:this.change}),n.a.createElement(ue.a,{color:"blue",textTransform:!0,clicked:this.createNote,disabled:0===this.state.note.length},"SEND",n.a.createElement(_.a,{className:"pending",style:{marginLeft:"5px",fontSize:"20px"}},"send")))))):null}}var We=Object(l.a)((function(e){return{processing:e.rides.update_ride_processing,ride:e.rides.ride}}),(function(e){return{dispatch:e,updateRide:(t,a)=>e(o.a.RidesActions.updateRide(t,a))}}))(He),Ye=a(1236),Ke=a.n(Ye);a(1237);class Ue extends s.PureComponent{constructor(e){super(e),this.change=e=>{this.setState({[e.target.name]:e.target.value})},this.state={note:""},this.confirm=this._confirm.bind(this),this.cancel=this._cancel.bind(this)}_confirm(){this.props.updateRide(this.props.ride_id,{status:"revive",reason:this.state.note}),this.props.dispatch(ve.closeRidesDialog())}_cancel(){this.props.dispatch(ve.closeRidesDialog())}render(){return n.a.createElement(s.Fragment,null,n.a.createElement(ee.a,{className:"revive-title"},"Revive Ride"),n.a.createElement(te.a,null,n.a.createElement(ae.a,{className:"revive-description"},"Specify the reason for the revelation of the trip"),n.a.createElement(b.a,{autoFocus:!0,multiline:!0,rows:"4",name:"note",className:"revive-note",margin:"normal",variant:"outlined",id:"outlined-multiline-static",placeholder:"Ride revived because ...",onChange:this.change})),n.a.createElement(re.a,{className:"revive-container-btn"},n.a.createElement(ue.a,{color:"gray",width:"158px",textTransform:!0,clicked:this.cancel},"CANCEL"),n.a.createElement(ue.a,{color:"blue",width:"158px",textTransform:!0,clicked:this.confirm,disabled:this.state.note.length<5},"Confirm")))}}var Ve=Object(l.a)((function(e){return{}}),(function(e){return{dispatch:e,updateRide:(t,a)=>e(o.a.RidesActions.updateRide(t,a))}}))(Ue),qe=a(1238),Je=a.n(qe);const Ge={display:"flex",padding:"5px 15px",height:"44px",flexDirection:"row",justifyContent:"space-between",alignItems:"center","& .reference_id":{fontSize:"17px",color:"rgba(0,0,0,0.60)",letterSpacing:"0.25px",lineHeight:"16px"},"& .status":{fontSize:"10px",letterSpacing:"0.33px",lineHeight:"12px",textTransform:"uppercase"}};class Ze extends s.PureComponent{constructor(e){super(e),this.refresh_interval=null,this.showSearch=()=>{this.setState({focused:!0}),document.addEventListener("keydown",this.enterFunction,!1)},this.enterFunction=e=>{""!==this.state.note&&13===e.keyCode&&this.state.focused&&(this.props.updateRide(this.props.ride.id,{status:"note",note:this.state.note}),document.querySelector("#note").blur(),this.setState({focused:!1,note:""}),e.preventDefault())},this.addNote=()=>{""!==this.state.note&&(this.props.updateRide(this.props.ride.id,{status:"note",note:this.state.note}),document.querySelector("#note").blur(),this.setState({focused:!1,note:""}))},this.revive=()=>{this.props.dispatch(ve.openRidesDialog({children:n.a.createElement(Ve,{ride_id:this.props.ride.id})}))},this.previewRide=()=>{(0,this.props.dispatch)(ve.openDialog({maxWidth:"xl",children:n.a.createElement(We,{copy:e=>this.call(this.props.ride.user.phone_number),close:e=>this.props.dispatch(ve.closeRidesDialog()),send:this.handleSendPreviewRideDialog})}))},this.viewClient=()=>{window.open("/client/"+this.props.ride.user.id,"_blank")},this.viewClientRides=()=>{const e=[];e.push("search=uid:"+encodeURIComponent(this.props.ride.user.id)),e.push("statuses=all"),e.push("time_range=all");const t=e.join("&");window.open("/rides?"+t,"_blank")},this.getPhoneNumber=e=>{if(!e||0===e.length)return"";return e.split(",").map(e=>""!==e?n.a.createElement("div",{key:e,className:"flex flex-row m-2 cursor-pointer"},n.a.createElement("a",{href:"tel:".concat(e)},n.a.createElement(_.a,null,"phone")),n.a.createElement("p",{className:"phone",onClick:t=>this.call(e)},e)):null)},this.state={note:"",focused:!1},this.handleChange=this._handleChange.bind(this),this.handleBlur=this._handleBlur.bind(this),this.handleOpenCanceledDialog=this._handleOpenCanceledDialog.bind(this),this.handleSendPreviewRideDialog=this._handleSendPreviewRideDialog.bind(this),this.handleOpenAssignDialog=this._handleOpenAssignDialog.bind(this),this.call=this._call.bind(this),this.updateRide=this._updateRide.bind(this),this.secondsToDatetime=this._secondsToDatetime.bind(this)}componentDidMount(){let e=!0;Ke.a.setIdleDuration(180),Ke.a.on("idle",(function(){e=!1})),Ke.a.on("wakeup",(function(){e=!0})),this.refresh_interval=setInterval(()=>{this.props.ride&&e&&null!==this.props.ride.driver&&this.props.retrieveRideLocation(this.props.ride.id)},3e3)}componentWillUnmount(){clearInterval(this.refresh_interval)}_handleChange(e){this.setState({[e.target.name]:e.target.value})}_handleBlur(){this.setState({focused:!1})}_call(e){document.location.href="tel:"+e}_handleOpenCanceledDialog(){this.props.dispatch(ve.openDialog({children:n.a.createElement(De,{ride_id:this.props.ride.id})}))}_handleOpenAssignDialog(){this.props.dispatch(ve.openRidesDialog({children:n.a.createElement(Re,{ride_id:this.props.ride.id})}))}_secondsToDatetime(e){if(e){let t,a,r=parseInt(e,10),i=Math.floor(r/3600),s=Math.floor((r-3600*i)/60);return t=0===i?"":1===i?i+"hour ":i+"hours ",a=s,t+a}}_updateRide(e){this.props.updateRide(this.props.ride.id,e)}componentWillReceiveProps(e){e.ride!==this.props.ride&&this.setState({confirmed:e.ride?1===e.ride.confirmed:null})}_handleSendPreviewRideDialog(e){let t=this.props.ride.id;e&&this.props.updateRide(t,{status:"note",note:e}),this.props.dispatch(ve.closeDialog())}render(){const e=this.props,t=e.classes,a=e.t,r=e.ride,i=this.state.note;if(!r)return n.a.createElement("div",{className:"ride-info"},n.a.createElement(Je.a,{height:44}),n.a.createElement("div",{className:t.passenger},n.a.createElement("div",{className:"flex row"},n.a.createElement("div",{className:"flex justify-center flex-1"},n.a.createElement(Je.a,{width:48,height:48,circle:!0}))),n.a.createElement("div",{className:"flex flex-col my-5 items-center justify-between"},n.a.createElement(Je.a,{width:200,height:20}),n.a.createElement(Je.a,{width:300,height:20})),n.a.createElement("div",{className:"flex flex-row my-2 justify-between mx-16"},n.a.createElement(Je.a,{width:100,height:20}),n.a.createElement(Je.a,{width:100,height:20}),n.a.createElement(Je.a,{width:100,height:20}))),n.a.createElement("div",{className:t.driver_container},n.a.createElement("div",{className:"photo"},n.a.createElement(Je.a,{width:30,height:30,circle:!0})),n.a.createElement("div",{className:"flex flex-col my-5 justify-between"},n.a.createElement(Je.a,{width:200,height:14}),n.a.createElement(Je.a,{width:300,height:14}))),n.a.createElement("div",{className:t.car_container},n.a.createElement("div",{className:"car-icon"},n.a.createElement(Je.a,{width:30,height:30,circle:!0})),n.a.createElement("div",{className:"flex flex-col my-5 justify-between"},n.a.createElement(Je.a,{width:200,height:14}),n.a.createElement(Je.a,{width:300,height:14}))),n.a.createElement("div",{className:t.destinations},n.a.createElement("div",{className:"flex flex-col my-5 justify-between"},n.a.createElement(Je.a,{width:200,height:14}),n.a.createElement(Je.a,{width:350,height:14})),n.a.createElement("div",{className:"flex flex-col my-5 justify-between"},n.a.createElement(Je.a,{width:100,height:14}),n.a.createElement(Je.a,{width:400,height:14})),n.a.createElement(Je.a,{width:250,height:14})),n.a.createElement("div",{className:"flex mx-5 my-5"},n.a.createElement(Je.a,{height:100,width:414})),n.a.createElement("div",{className:"flex flex-row my-16 justify-between mx-20"},n.a.createElement(Je.a,{width:50,height:50,circle:!0}),n.a.createElement(Je.a,{width:50,height:50,circle:!0}),n.a.createElement(Je.a,{width:50,height:50,circle:!0})));let s=[...r.user.first_name][0]+[...r.user.last_name][0],o=[...r.events].filter(e=>null!==e.admin_id);return n.a.createElement("div",{className:"ride-info"},n.a.createElement("div",{className:t[r.status]},n.a.createElement("p",{className:"reference_id"}," # ",r.id,"  ",r.reference_id>0&&"/ ".concat(r.reference_id)),n.a.createElement("div",{className:"flex flex-col justify-end justify-center text-right"},n.a.createElement("p",{className:"status"},a("rides.statuses."+r.status)),r.company&&n.a.createElement("p",{className:"company"},r.company.name))),n.a.createElement("div",{className:t.passenger},n.a.createElement("div",{className:"flex row"},n.a.createElement("div",{className:"flex-1"},n.a.createElement(m.a,{control:n.a.createElement(u.a,{onChange:e=>this.updateRide({status:"rider_confirmed",value:1===r.confirmed?0:1}),checked:1===r.confirmed,color:"primary"}),className:t.confirmed,label:"Confirmed"})),n.a.createElement("div",{className:"flex justify-center flex-1"},n.a.createElement("div",{className:t.passanger_icon},s)),n.a.createElement("div",{className:"flex justify-end flex-1"},n.a.createElement(G.a,{className:t.edit_btn,size:"small",color:"primary",onClick:this.previewRide},n.a.createElement(_.a,null,"edit")))),n.a.createElement("div",{className:t.passanger_name_container},n.a.createElement("div",{className:t.passanger_name},r.user.first_name," ",r.user.last_name," ",r.user.reference_id?"("+r.user.reference_id+")":""),n.a.createElement("div",{className:"filter-list-btn"},n.a.createElement(G.a,{size:"small",color:"primary",onClick:this.viewClient,style:{marginRight:10}},n.a.createElement(_.a,null,"visibility")),n.a.createElement(G.a,{size:"small",color:"primary",onClick:this.viewClientRides},n.a.createElement(_.a,null,"filter_list")))),n.a.createElement("div",{className:t.passanger_phone},this.getPhoneNumber(r.user.phone_number)),n.a.createElement("div",{className:t.passanger_status_icon},r.notes&&r.notes.map((e,a)=>n.a.createElement("div",{className:t.note_icon,key:a},n.a.createElement("p",null,e.label))),this.props.ride.wav&&n.a.createElement(_.a,null,"accessible_forward")),n.a.createElement("br",null),r.user.note&&n.a.createElement("div",{style:{textAlign:"center",border:"0.5px dashed #000",paddingTop:10,paddingBottom:10}},n.a.createElement("p",{style:{fontWeight:"bold"}},r.user.note))),r.driver&&n.a.createElement("div",{className:t.driver_container},n.a.createElement("div",{className:"photo"},n.a.createElement("img",{src:r.driver.selfie_thumbnail_url,alt:"driver"})),n.a.createElement("div",null,n.a.createElement("p",{className:"driver-name"},r.driver.first_name," ",r.driver.last_name," ",r.car&&r.car.company?" \xb7 "+r.car.company.name:""),n.a.createElement("div",{className:"driver-phone"},n.a.createElement("div",{className:"flex flex-row m-2 cursor-pointer"},n.a.createElement("a",{href:"tel:".concat(r.driver.phone_number)},n.a.createElement(_.a,null,"phone")),n.a.createElement("p",{className:"phone",onClick:e=>this.call(r.driver.phone_number)},r.driver.phone_number))))),r.car&&n.a.createElement("div",{className:t.car_container},n.a.createElement("div",{className:"car-icon"},n.a.createElement("img",{alt:"",src:"../assets/img/cars/car_placeholder_"+r.car.color+".png"})),n.a.createElement("div",null,n.a.createElement("p",{className:"plate-number"},r.car.plate_number),n.a.createElement("p",{className:"car-title"},r.car.title," \xb7 ",r.car.color.charAt(0).toUpperCase()+r.car.color.slice(1)," \xb7 ",r.car.reference_id))),r.ride_type&&n.a.createElement("div",{className:t.car_container},n.a.createElement("div",{className:"car-icon"},n.a.createElement("img",{alt:"",src:r.ride_type.image})),n.a.createElement("div",null,n.a.createElement("p",{className:"plate-number"},r.ride_type.display_name),n.a.createElement("p",{className:"car-title"},r.ride_type.short_description))),n.a.createElement("div",{className:t.destinations},n.a.createElement("p",{className:"time"},"Arrived \xb7 ",W()(r.arrived_at).format("LT")," | Pick up \xb7 ",W()(r.pickup_at).format("LT")),n.a.createElement("p",{className:"address"},r.start_address),n.a.createElement("p",{className:"time"},"Drop off \xb7 ",W()(r.dropoff_at).format("LT")),n.a.createElement("p",{className:"address"},r.destination_address),r.car&&n.a.createElement("p",{className:"pool"},this.secondsToDatetime(r.duration),"min \xb7 ",r.distance.toFixed(2),"mi  \xb7 $",parseFloat(r.amount).toFixed(2))),n.a.createElement("div",null,n.a.createElement("div",{className:"note-container flex flex-col items-center "},n.a.createElement("div",{className:"pickup_note"},n.a.createElement("div",{style:{padding:"15px 15px 10px"}},o.length>0?o.map(e=>n.a.createElement("div",{className:"container",key:e.id},n.a.createElement("div",{className:"date"},W()(e.created_at).format("MM/DD h:mm A")),n.a.createElement("div",{className:"body"},e.body),n.a.createElement("div",{className:"admin"},e.admin_first_name))):n.a.createElement("div",{className:"container no-note"},"No note"))),n.a.createElement(b.a,{fullWidth:!0,className:t.textFieldNote,variant:"outlined",type:"text",placeholder:"Leave comment...",value:i,InputProps:{onChange:this.handleChange,onFocus:this.showSearch,onBlur:this.handleBlur,name:"note",id:"note",endAdornment:n.a.createElement(Z.a,{position:"end"},n.a.createElement(G.a,{edge:"end","aria-label":"Toggle password visibility",onClick:this.addNote},n.a.createElement(X.a,null)))}}))),n.a.createElement("div",{className:t.buttons_container},"pending"!==r.status&&n.a.createElement($.a,{title:"Revive"},n.a.createElement(G.a,{size:"medium",color:"primary",onClick:this.revive,disabled:"pending"===r.status},n.a.createElement(_.a,{fontSize:"large"},"history"))),("assigned"===r.status||"accepted"===r.status||"arriving"===r.status||"pending"===r.status)&&n.a.createElement($.a,{title:"Cancel"},n.a.createElement(G.a,{className:"not-interested",size:"medium",color:"primary",onClick:this.handleOpenCanceledDialog},n.a.createElement(_.a,{fontSize:"large"},"not_interested"))),n.a.createElement(Me,null)))}}var $e=Object(g.a)()(Object(l.a)((function(e){return{ride:e.rides.ride}}),(function(e){return{dispatch:e,alert:(t,a,r)=>e(o.a.NotificationsActions.alert(t,a,r)),updateRide:(t,a)=>e(o.a.RidesActions.updateRide(t,a)),retrieveRide:t=>e(o.a.RidesActions.retrieveRide(t)),retrieveRideLocation:t=>e(o.a.RidesActions.retrieveRideLocation(t)),updateFilters:t=>e(o.a.RidesActions.updateFilters(t))}}))(Object(p.a)(e=>({draft:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.draft,"& .status":{color:e.palette.status.color.draft}}),pending:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.pending,"& .status":{color:e.palette.status.color.pending}}),assigned:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.assigned,"& .status":{color:e.palette.status.color.assigned}}),in_progress:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.in_progress,"& .status":{color:e.palette.status.color.in_progress}}),finished:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.finished,"& .status":{color:e.palette.status.color.finished}}),accepted:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.accepted,"& .status":{color:e.palette.status.color.accepted}}),arriving:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.arriving,"& .status":{color:e.palette.status.color.arriving}}),driver_canceled:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.driver_canceled,"& .status":{color:e.palette.status.color.driver_canceled}}),user_canceled:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.user_canceled,"& .status":{color:e.palette.status.color.user_canceled}}),company_canceled:Object(r.a)(Object(r.a)({},Ge),{},{backgroundColor:e.palette.status.company_canceled,"& .status":{color:e.palette.status.color.company_canceled}}),passenger:{padding:"15px",borderBottom:"1px solid rgba(0,0,0,0.08)"},confirmed:{"& .MuiButtonBase-root":{height:"36px",width:"36px"},"& .MuiSvgIcon-root":{fontSize:"16px",color:"rgba(0,0,0,0.54)",marginBottom:"3px"},"& .MuiTypography-root":{fontSize:"16px",color:"rgba(0,0,0,0.60)",letterSpacing:"0.33px",lineHeight:"16px"}},passanger_icon:{display:"flex",alignItems:"center",justifyContent:"center",height:"48px",width:"48px",background:"#F5F6FB",border:"1px solid rgba(0,0,0,0.08)",borderRadius:"50%",fontSize:"12px",color:"rgba(0,0,0,0.30)",letterSpacing:"0.4px",lineHeight:"16px"},edit_btn:{height:"32px",width:"32px",border:"1px solid #E9E9E9","& .MuiIcon-root":{fontSize:"18px"}},passanger_name_container:{display:"flex",alignItems:"center",position:"relative",paddingRight:70,"& .filter-list-btn":{position:"absolute",right:0,display:"flex",flex:1,alignItems:"center","& .MuiButtonBase-root":{height:"32px",width:"32px",border:"1px solid #E9E9E9","& .MuiIcon-root":{fontSize:"18px"}}}},passanger_name:{fontSize:"16px",fontWeight:700,color:"rgba(0,0,0,0.87)",letterSpacing:"0.25px",lineHeight:"28px",textAlign:"center",margin:"10px auto 5px"},passanger_phone:{display:"flex",justifyContent:"center","& .MuiIcon-root":{fontSize:"14px",color:"#000000",margin:"2px 5px 0 0"}},passanger_status_icon:{display:"flex",flexWrap:"wrap",justifyContent:"center","& .MuiIcon-root":{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",color:"#ffffff",margin:"5px 3px 0",height:"24px",width:"24px",background:"#536DFE",borderRadius:"50%"}},note_icon:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",color:"#ffffff",margin:"5px 3px 0",paddingLeft:7,paddingRight:7,height:"30px",background:"#000000",borderRadius:20,whiteSpace:"nowrap",boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.3)"},driver_container:{display:"flex",padding:"15px",borderBottom:"1px solid rgba(0,0,0,0.08)","& .photo":{width:"32px",height:"30px",borderRadius:"50%",overflow:"hidden",margin:"auto 0",marginRight:"15px"},"& .driver-name":{fontSize:"12px",fontWeight:700,color:"rgba(0,0,0,0.87)",letterSpacing:"0.25px",lineHeight:"16px"},"& .driver-phone":{display:"flex","& .MuiIcon-root":{fontSize:"14px",color:"#000000",margin:"2px 5px 0 0"}}},car_container:{display:"flex",padding:"15px",borderBottom:"1px solid rgba(0,0,0,0.08)","& .car-icon":{margin:"auto 0",marginRight:"15px","& img":{width:"32px",height:"auto"}},"& .plate-number":{fontSize:"12px",fontWeight:700,color:"rgba(0,0,0,0.87)",letterSpacing:"0.25px",lineHeight:"16px"},"& .car-title":{fontSize:"12px",color:"rgba(0,0,0,0.60)",letterSpacing:"0.25px",lineHeight:"16px"}},destinations:{display:"flex",flexDirection:"column",padding:"15px","& .time":{fontSize:"16px",fontWeight:700,color:"rgba(0,0,0,0.87)",letterSpacing:"0.25px",lineHeight:"16px",marginBottom:"4px"},"& .address":{fontSize:"16px",color:"rgba(0,0,0,0.60)",letterSpacing:"0.25px",lineHeight:"16px",marginBottom:"16px"},"& .pool":{fontSize:"16px",color:"rgba(0,0,0,0.60)",letterSpacing:"0.4px",lineHeight:"16px",marginBottom:"16px"}},textFieldNote:{"& .MuiOutlinedInput-root":{borderRadius:"0 0 4px 4px","& .MuiInputBase-input":{fontSize:"14px",padding:"17.9px 14px"}},"& .Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderTopWidth:"inherit"}},"& .MuiOutlinedInput-notchedOutline":{borderTopWidth:"inherit"}},buttons_container:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"15px",marginTop:"15px",marginBottom:"30px","& .not-interested":{color:"#EF5350"},"& button":{boxShadow:"0px 0px 10px -4px rgba(0,0,0,0.3)"}}}))(Ze))),Qe=a(59),Xe=(a(451),a(1066)),et=a(1067);const tt=[{value:"pending",label:"Pending"},{value:"accepted",label:"Accepted"},{value:"assigned",label:"Assigned"},{value:"arriving",label:"On Location"},{value:"in_progress",label:"In Progress"},{value:"finished",label:"Finished"},{value:"user_canceled",label:"User Canceled"},{value:"driver_canceled",label:"Driver Canceled"},{value:"company_canceled",label:"Comp Canceled"}];class at extends s.Component{constructor(...e){super(...e),this.updateFilter=(e,t="search_options")=>{"search_options"===t?this.props.updateRidesFilters(e):this.props.updateRideFilters(e)}}render(){const e=this.props,t=e.classes,a=e.search_options.statuses;return n.a.createElement(Xe.a,{value:a,onChange:(e,t)=>{if(0===t)return void this.updateFilter({statuses:""});t-=1;let r=a;r=-1===a.indexOf(tt[t].value)?r+","+tt[t].value:r.replace(tt[t].value,""),this.updateFilter({statuses:r})},className:t.root,showLabels:!0},n.a.createElement(et.a,{label:"All",className:""===a?"selected":""}),tt.map((e,t)=>n.a.createElement(et.a,{key:t,label:e.label,className:-1!==a.indexOf(e.value)||""===a?"selected":""})))}}var rt=Object(p.a)(e=>({root:{backgroundColor:e.palette.background.default,height:"48px",maxWidth:"1600px",marginRight:"-1px",borderBottom:"2px solid #e9ecf1",display:"flex",justifyContent:"space-between","& .MuiButtonBase-root":{flex:"auto",minWidth:"40px",border:"0.5px solid rgba(191,193,201,0.20)"},"& .MuiBottomNavigationAction-label":{whiteSpace:"nowrap",textTransform:"uppercase",fontSize:"10px",letterSpacing:"0.33px",fontWeight:700,lineHeight:"16px",color:e.palette.text.secondary.dark},"& .selected":{backgroundColor:e.palette.background.selected,border:"none","& .MuiBottomNavigationAction-label":{color:e.palette.text.secondary}}}}))(Object(l.a)((function(e){return{search_options:e.rides.search_options}}),(function(e){return{dispatch:e,updateRideFilters:t=>e(o.a.RidesActions.updateRideFilters(t)),updateRidesFilters:t=>e(o.a.RidesActions.updateFilters(t))}}))(at));class it extends s.PureComponent{constructor(...e){super(...e),this.state={mapCreateRide:!0},this.onRideView=e=>{this.props.retrieveRide(e),this.setState({mapCreateRide:!1})},this.changeActiveMap=()=>{this.setState({mapCreateRide:!0})}}componentDidMount(){let e=new URLSearchParams(this.props.location.search),t="",a={from_datetime:W.a.utc().subtract(15,"minutes").format("YYYY-MM-DD HH:mm:ss"),to_datetime:W.a.utc().add(15,"minutes").format("YYYY-MM-DD HH:mm:ss")},s={};var n,o=Object(i.a)(e.entries());try{for(o.s();!(n=o.n()).done;){let e=n.value;"search"===e[0]&&(t=e[1]),"time_range"===e[0]&&"all"===e[1]&&(a={from_datetime:"",to_datetime:"",range:0}),"statuses"===e[0]&&"all"===e[1]&&(s={statuses:""})}}catch(d){o.e(d)}finally{o.f()}let l=JSON.parse(localStorage.getItem(Qe.FILTERS_STORAGE_KEY));this.props.updateRidesFilters(Object(r.a)(Object(r.a)(Object(r.a)({},l),{},{search:t},s),a)).then(()=>{this.props.getRides()});let c=JSON.parse(localStorage.getItem(Qe.RIDE_OPTIONS_STORAGE_KEY));this.props.updateRideFilters(Object(r.a)({},c))}render(){return n.a.createElement("div",{className:"rides-container"},n.a.createElement(N,null),n.a.createElement(rt,null),n.a.createElement("div",{className:"wrapper"},n.a.createElement(J,{onRideView:this.onRideView}),n.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",position:"relative"}},n.a.createElement($e,null),n.a.createElement(O,{aciveMap:!this.state.mapCreateRide}))))}}t.default=Object(l.a)(null,(function(e){return{dispatch:e,getRides:()=>e(o.a.RidesActions.getRides()),retrieveRide:t=>e(o.a.RidesActions.retrieveRide(t)),updateRidesFilters:t=>e(o.a.RidesActions.updateFilters(t)),updateRideFilters:t=>e(o.a.RidesActions.updateRideFilters(t))}}))(it)}}]);